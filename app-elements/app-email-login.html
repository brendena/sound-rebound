<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/neon-animation/animations/scale-up-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html">

<dom-module id="app-email-login">
  <template>
    <style>
      #emailLogInModule{
        z-index: 200;
      }
      p{
        text-align: center;
      }
    </style>

    <paper-dialog id="emailLogInModule" entry-animation="scale-up-animation" exit-animation="fade-out-animation" > <!--with-backdrop caused problem -->
        <paper-input label="email" bind-value="{{email}}" type="email">Email</paper-input>
        <paper-input label="emailPassword" bind-value="{{password}}" type="password">password</paper-input>
        <paper-button on-tap="_logIn"> submit</paper-button>
        <paper-button on-tap="_createAccount">Create Account</paper-button>
        <paper-button on-tap="_resetPassword">password reset</paper-button>
        <p id="errorText"></p>
    </paper-dialog>

  </template>
  <script>
    Polymer({
      is: 'app-email-login',
      open: function(){
        this.$.emailLogInModule.open();
      },
      close: function(){
        this.$.emailLogInModule.close();
      },
      userError: function(text){
        console.log("error");
        this.$.errorText.innerHTML = text;
      },
      nullError: function(){
        this.$.errorText.innerHTML = "";
      },
      _resetPassword: function(){
        this.fire('resetPassword', {email: this.email});
      },
      _createAccount: function(){
        this.fire('createAccount', {email: this.email, password: this.password});
      },
      _logIn: function(){
        this.fire('logIn', {email: this.email, password: this.password});
      }


    });
  </script>
</dom-module>
