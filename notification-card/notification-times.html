<link rel="import" href="./bower_components/paper-input/paper-input.html">  
<link rel="import" href="./bower_components/paper-slider/paper-slider.html">  
<link rel="import" href="./bower_components/iron-validatable-behavior/iron-validatable-behavior.html">

<dom-module id="notification-times">

  <template>
    <div>
        <p>
            <template is="dom-repeat" items="[[notificationDatesArray]]" as="day">
                 [[day.day]] [[day.start]]-[[day.end]]   
            </template>
        </p>
    </div>
  </template>
  <script>
    Polymer({
        is: 'notification-times',
        properties:{
            
          notificationDates:{
                type : Object,
                reflectToAttribute: true,
                observer: '_changedNotificationDates'
            },
            notificationDatesArray:{
                type: Object
            }
        },
        ready: function(){
           
            this.notificationDatesArray  = [
                    {
                        "day": "M",
                        "start": "1",
                        "end": "1"
                    },
                    {
                        "day": "T",
                        "start": "1",
                        "end": "1"
                    },
                    {
                        "day": "TH",
                        "start": "1",
                        "end": "1"
                    }
                    
                ];
            console.log(this.notificationDatesArray)
            
            this._changedNotificationDates();
            
        },
        _changedNotificationDates: function(){
            
            console.log("changed notification-dates");
            
            /*
            You have to change notificationDatesArray all at once 
            or else it doesn't update at all.  I'm guessing because
            it overload the data-binding?
            */
            var changedInfo = [];
            
            for (var prop in this.notificationDates) {
                changedInfo.push(this.notificationDates[prop]);
            }
            this.notificationDatesArray = changedInfo;
            
        }

        
        
    });
  </script>
</dom-module>