<link rel="import" href="../../iron-input/iron-input.html">
<link rel="import" href="../../paper-checkbox/paper-checkbox.html">

<link rel="import" href="../utility-el/time-input.html">


<dom-module id="notification-time-edit">
  <style>
      /*
      https://codingwithgerwin.blogspot.com/2016/04/polymer-and-hidden-attribute.html
      */
      p[[hidden]]{
          display: none;
      }  
      
  </style>
  <template>
    <!-- 
    i want a checkbox
    and two input tags
    -->
    <paper-checkbox checked='{{enabledInput}}' style="float:left">
        time notification
    </paper-checkbox>

    <time-input id="start" disabled="{{enabledInput}}" time="{{start}}" invalid="{{startInvalid}}"></time-input>
    <time-input id="end" disabled="{{enabledInput}}" time="{{end}}" invalid="{{endInvalid}}"></time-input>

  </template>
  <script>
    Polymer({
        is: 'notification-time-edit',
        properties:{
            start:{
                type: String, 
                notify: true,
                //computed: "checkInput()",
                value: "00:00"
            },
            end:{
                type: String,
                notify: true,
                //computed: 'checkInput()',
                value: "00:00"
            },
            startInvalid:{
                type: Boolean,
                value: false
            },
            endInvalid:{
                type: Boolean,
                value: false
            },
            error:{
                type: Boolean,
                value: true
            }
        },
        observers:[
            'checkInput(start, end)'
        ],
        validate1: function(){
            console.log("asdf");
        },

        ready:function(){
             
        },
        checkInput: function(start, end){
            var regularExpress = /[:]/;
            start = start.replace(regularExpress, "");
            end = end.replace(regularExpress, "");
            console.log(start);
            console.log(end);
            if(start > end){
                console.log("is greater");
                this.startInvalid =  true;
                this.endInvalid = true;
            }
            else{
                console.log("is less");
                this.startInvalid =  false;
                this.endInvalid = false;
            }
            console.log("check");
        }

        
        
    });
  </script>
</dom-module>


<!--
        /
        properties:{
            start:{
                type: String,
                computed: "checkInput()", 
                notify: true
            },
            end:{
                type: String,
                computed: 'checkInput()',
                
                notify: true
            },
            error:{
                type: Boolean,
                value: true
            }
        },
        ready: function(){
            
            if(this.end == "0" && this.start == "0"){
                console.log("got through ready");
                this.enableInput = false;
            }
            else{
                this.enableInput = true;
            }
            this.changed();
        },
        changed: function(){
            //console.log("disabled = " + this.enableInput);
            if(this.enableInput == false){
                this.$.start.disabled  = true;
                this.$.end.disabled  = true;
            }
            else{
                this.$.start.disabled  = false;
                this.$.end.disabled  = false;
            }
            
        },
        //this is really bad
        checkInput: function(newValue, oldValue){
            //console.log("checkInput!!!!!!!!!!!!!!!!!");
            /*
            
            if(24 < this.start){
                this.start = 24;
            }
            if(24 < this.end){
                this.end = 24;
            }
            //this is for if people delete the input
            if(this.start == "" || this.end == ""){
                console.log("dam")
                this.hideError = true;
            }
            else{

                if(this.start <= this.end){
                    
                    this.hideError = true;
                }
                else{
                    this.hideError = false;
                }
                
            }
            */
        },   
        validator1: function(){
          console.log("asdf");  
        }

-->