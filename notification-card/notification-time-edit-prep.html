<link rel="import" href="./notification-time-edit.html">
<link rel="import" href="../utility-el/day-array-behavior.html">



<!--
# Purpose `<notification-time-edit-prep>`
hole purpose is to encapsulate some of the logic
with the notification time edit.

Basically all it is the loop through notificationDaysArray
and creates notification-time-edit.
It also set notificationDaysArray which files in
all the days you've havent set and puts them in proper order.

## resources


## haven't finished 
the paper-drowndown-menu can seem sometimes flaky
-->
<dom-module id="notification-time-edit-prep">
  <style>

  
  </style>
  <template>
    <template is="dom-repeat" items="{{notificationDaysArray}}" as="day">
        <notification-time-edit day="[[day.day]]" start="{{day.start}}" end="{{day.end}}" enabled="{{day.enabled}}"></notification-time-edit>
    </template>
    
    <!-- so i need the leading zero in 03:00 or else it dons't know what to do. -->
  </template>
  <script>
    Polymer({
        is: 'notification-time-edit-prep',
        behaviors:[MyBehaviors.DayArrayBehavior ],
        properties:{
            days: {
              type: Array,
              notify: true,
              observer: '_changedNotificationDates',
              value: function(){
                return [];
              }
             
            },
            notificationDaysArray:{
              type: Array,
              value: function(){
                return [];
              }
            }
        },
        /*
          this set notificationDaysArray
          based on the days values in the 
          proper order.

          Most of the logic is in
          DayArrayBehavior
        */
        _changedNotificationDates:function(newValue){

          console.log("_changedNotificationDates");
          this.notificationDaysArray = this._changedNDates();


        },
        
        

        
    });
  </script>
</dom-module>
